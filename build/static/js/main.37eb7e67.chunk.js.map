{"version":3,"sources":["utils/lazy.js","index.js","router/PrivateRoute.js","router/index.js"],"names":["lazy","loading","props","state","Com","load","then","setState","default","this","Component","PrivateRoute","component","render","p","document","cookie","includes","alert","to","pathname","from","location","Login","Load","Index","Routers","path","PureComponent","Route","ReactDOM","getElementById"],"mappings":"kMAEe,SAASA,EAAKC,GAC3B,yDACE,WAAcC,GAAS,IAAD,8BACpB,cAAQA,IACHC,MAAM,CACTC,IAAI,MAEN,EAAKC,OALe,EADxB,wCASE,SAAKH,GAAO,IAAD,OACTD,IAAUK,MAAK,SAACF,GACd,EAAKG,SAAS,CACZH,IAAIA,EAAII,QAAQJ,EAAII,QAAQ,YAZpC,oBAiBE,WACE,IAAIJ,EAAIK,KAAKN,MAAMC,IACnB,OAAOA,EAAI,cAACA,EAAD,IAAO,SAnBtB,GAAqBM,e,gECGRA,E,qHCeAC,EAjBM,SAAC,GAAsC,IAA1BD,EAAyB,EAApCE,UAAyBV,EAAW,iBAEzD,OAAO,cAAC,IAAD,2BAAWA,GAAX,IAAkBW,OAAQ,SAACC,GAEhC,OADcC,SAASC,OAAOC,SAAS,cAE5B,cAACP,EAAD,KAETQ,MAAM,+HACC,cAAC,IAAD,CAAUC,GAAI,CACnBC,SAAU,SACVjB,MAAO,CACLkB,KAAMP,EAAEQ,SAASF,mBCTrBG,EAAQC,aAAK,kBAAM,4EACnBC,EAAQD,aAAK,kBAAM,yDAkBVE,E,4JAfb,WACE,OACE,mCACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,SAASf,UAAWW,IAChC,cAAC,EAAD,CAAcI,KAAK,SAASf,UAAWa,IACvC,cAAC,IAAD,CAAUN,GAAG,sB,GARHS,iB,MFHPlB,EAKRmB,EAJLC,IAASjB,OACP,cAACH,EAAD,IACEK,SAASgB,eAAe,W","file":"static/js/main.37eb7e67.chunk.js","sourcesContent":["import React , { Component } from 'react';\r\n\r\nexport default function lazy(loading){//传过来一个函数\r\n  return class extends Component {\r\n    constructor ( props ) {\r\n      super ( props );\r\n      this.state={\r\n        Com:null\r\n      };\r\n      this.load()\r\n    };\r\n\r\n    load(props){\r\n      loading().then((Com)=>{  //调用函数获取它传过来的路径\r\n        this.setState({\r\n          Com:Com.default?Com.default:null\r\n        });\r\n      })\r\n    };\r\n\r\n    render () {\r\n      let Com=this.state.Com;\r\n      return Com?<Com/>:null;\r\n    };\r\n  };\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Route from './router'\r\n\r\nimport './index.less';\r\n\r\nconst render = Component =>{\r\n  ReactDOM.render(\r\n    <Component/>\r\n    , document.getElementById('root'))\r\n}\r\nrender(Route)","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\n// 这个组件将根据登录的情况, 返回一个路由\r\nconst PrivateRoute = ({component: Component, ...props}) => {\r\n  // 解构赋值 将 props 里面的 component 赋值给 Component\r\n  return <Route {...props} render={(p) => {\r\n    const login = document.cookie.includes('login=true')\r\n    if (login){ // 如果登录了, 返回正确的路由\r\n        return <Component />\r\n    } else { // 没有登录就重定向至登录页面\r\n      alert(\"你还没有登录哦, 确认将跳转登录界面进行登录!\")\r\n      return <Redirect to={{\r\n        pathname: '/login',\r\n        state: {\r\n          from: p.location.pathname\r\n        }\r\n      }} />\r\n    }\r\n  }}/>\r\n}\r\nexport default PrivateRoute","import React, {PureComponent} from 'react';\r\nimport { HashRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";//引入routerdom\r\nimport Load from 'utils/lazy'\r\nimport PrivateRoute from './PrivateRoute'\r\n\r\n//按需导入\r\nconst Login = Load(() => import(\"pages/Login\"))\r\nconst Index = Load(() => import(\"@/layouts/BasicLayout\"))\r\n\r\nclass Routers extends PureComponent {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Router>\r\n          <Switch>\r\n            <Route path=\"/login\" component={Login}/>\r\n            <PrivateRoute path=\"/index\" component={Index}/>\r\n            <Redirect to=\"/login\"/>\r\n          </Switch>\r\n        </Router>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Routers;"],"sourceRoot":""}