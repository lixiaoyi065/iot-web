{"version":3,"sources":["components/common/DrowDownMenu/index.jsx","api/operations/index.js","api/baseIndex/index.js","components/content/Header/index.jsx","layouts/HeaderLayout.js","assets/img/common/logo.png","utils/index.js","utils/request.js"],"names":["DrowDownMenu","lists","this","props","className","map","e","Item","name","PureComponent","GetRemote","axios","url","method","PutRemote","data","StartIOT","StopIOT","RestartIoT","timer","PageHeader","state","currentEqu","userName","getCookie","toggleMenu","status","toggle","setState","PubSub","publish","logout","confirm","title","cancelText","okText","onOk","history","push","menu","that","key","onClick","then","res","console","log","code","message","info","error","msg","subscribe","setInterval","setTimeout","replace","clearInterval","src","logo","alt","React","createElement","MenuUnfoldOutlined","MenuFoldOutlined","overlay","trigger","placement","arrow","withRouter","deepClone","target","result","Array","isArray","i","constructor","RegExp","getNowFormatDate","date","Date","year","getFullYear","month","getMonth","strDate","getDate","hours","getHours","seconds","getSeconds","minutes","getMinutes","stringToArray","arr","length","split","setCookie","value","day","expires","document","cookie","toUTCString","cname","ca","c","trim","indexOf","substring","downFile","fileName","blob","Blob","type","window","URL","webkitURL","moxURL","downloadHref","createObjectURL","downloadLink","href","download","click","revokeObjectURL","isFit","gist","newObj","isRepeat","dataArr","id","val","some","item","converTime","str","index","char","strAry","join","service","create","baseURL","timeout","async","crossDomain","interceptors","request","use","config","token","headers","Promise","reject","response","Code"],"mappings":"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","file":"static/js/14.01af0afc.chunk.js","sourcesContent":["import React, { PureComponent } from 'react'\r\nimport { Menu } from 'antd'\r\nimport './index.less'\r\n\r\nexport default class DrowDownMenu extends PureComponent {\r\n  render() {\r\n    const { lists } = this.props\r\n\r\n    return (\r\n      <Menu className=\"option-menu\" {...this.props}>\r\n        {\r\n          lists.map(e => {\r\n            return <Menu.Item className=\"option-menu-item\" {...e}>{e.name}</Menu.Item>\r\n          })\r\n        }\r\n      </Menu>\r\n    )\r\n  }\r\n}","import axios from 'utils/request'\r\n\r\n//获取远程运维信息\r\nexport function GetRemote() {\r\n  return axios({\r\n    url: \"/Remote\",\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n//更新远程运维信息\r\nexport function PutRemote(data) {\r\n  return axios({\r\n    url: \"/Remote\",\r\n    data:data,\r\n    method: 'put'\r\n  })\r\n}","\r\nimport axios from 'utils/request'\r\n\r\n//获取IOT节点状态\r\nexport function GetIOTStatus() {\r\n  return axios({\r\n    url: \"/IoTControl/GetIoTStatus\",\r\n    method: \"get\"\r\n  })\r\n}\r\n//启动IOT节点\r\nexport function StartIOT() {\r\n  return axios({\r\n    url: '/IoTControl/StartIoT',\r\n    method: 'put'\r\n  })\r\n}\r\n//停止IOT节点\r\nexport function StopIOT() {\r\n  return axios({\r\n    url: '/IoTControl/StopIoT',\r\n    method: 'put'\r\n  })\r\n}\r\n//重新启动IOT节点\r\nexport function RestartIoT() {\r\n  return axios({\r\n    url: '/IoTControl/RestartIoT',\r\n    method: 'put'\r\n  })\r\n}","import React, { PureComponent } from 'react'\r\nimport { Dropdown, message, Modal } from 'antd'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { MenuUnfoldOutlined, MenuFoldOutlined } from '@ant-design/icons'\r\n\r\nimport DrowDownMenu from 'components/common/DrowDownMenu'\r\nimport { getCookie } from 'utils'\r\nimport PubSub from 'pubsub-js'\r\n\r\nimport './index.less'\r\n\r\nimport { GetRemote } from 'api/operations'\r\nimport { GetIOTStatus, StartIOT, StopIOT, RestartIoT } from \"api/baseIndex\"\r\n\r\nlet timer = null;\r\nclass PageHeader extends PureComponent {\r\n  state = {\r\n    currentEqu: '',\r\n    userName: getCookie(\"userName\"),\r\n    toggleMenu: false,\r\n    status: 1\r\n  }\r\n\r\n  componentDidMount() {\r\n    GetRemote().then(res => {\r\n      if (res.code === 0) {\r\n        let data = res.data;\r\n        this.setState({\r\n          currentEqu: data.name || \"\",\r\n        })\r\n      } else {\r\n      }\r\n    })\r\n\r\n    PubSub.subscribe(\"projectName\", (res, data) => {\r\n      this.setState({ currentEqu: data })\r\n    })\r\n\r\n    timer = setInterval(() => {\r\n      GetIOTStatus().then(res => {\r\n        if (res.code === 0) {\r\n          this.setState({\r\n            status: res.data\r\n          })\r\n        } else {\r\n          if (getCookie(\"Authorization\") === \"\") {\r\n            message.error(\"登录失效，即将跳转登录页\")\r\n            setTimeout(() => {\r\n              this.props.history.replace(\"/login\")\r\n            }, 2000)\r\n          }\r\n        }\r\n      })\r\n    }, 5000)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(timer)\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState(state => {\r\n      PubSub.publish(\"toggleMenu\", !state.toggleMenu)\r\n      return {\r\n        toggleMenu: !state.toggleMenu\r\n      }\r\n    })\r\n  }\r\n\r\n  logout = () => {\r\n    Modal.confirm({\r\n      title: \"是否确认退出\",\r\n      cancelText: \"取消\",\r\n      okText: \"确认\",\r\n      onOk: () => {\r\n        this.props.history.push('/')\r\n      }\r\n    })\r\n  }\r\n\r\n  menu = () => {\r\n    let that = this;\r\n    return <DrowDownMenu lists={[\r\n      {\r\n        name: \"重新启动\",\r\n        key: \"restart\",\r\n        onClick() {\r\n          RestartIoT().then(res => {\r\n            console.log(res)\r\n            if (res.code === 0) {\r\n              that.setState({\r\n                status: 1\r\n              }, () => {\r\n                message.info(\"重新启动成功\")\r\n              })\r\n            } else {\r\n              message.error(res.msg)\r\n            }\r\n          })\r\n        }\r\n      }, {\r\n        name: \"启动\",\r\n        key: \"start\",\r\n        onClick() {\r\n          StartIOT().then(res => {\r\n            console.log(res)\r\n            if (res.code === 0) {\r\n              that.setState({\r\n                status: 1\r\n              }, () => {\r\n                message.info(\"启动成功\")\r\n              })\r\n            } else {\r\n              message.error(res.msg)\r\n            }\r\n          })\r\n        }\r\n      }, {\r\n        name: \"停止\",\r\n        key: \"stop\",\r\n        onClick() {\r\n          StopIOT().then(res => {\r\n            if (res.code === 0) {\r\n              console.log(res)\r\n              that.setState({\r\n                status: 0\r\n              }, () => {\r\n                message.info(\"已停止\")\r\n              })\r\n            } else {\r\n              message.error(res.msg)\r\n            }\r\n          })\r\n        }\r\n      }\r\n    ]} />\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"pageHeader\">\r\n        <div className=\"logo\">\r\n          <img src={this.props.logo} alt=\"logo\" />\r\n          <span className=\"name\">{this.props.name}</span>\r\n        </div>\r\n        <div className=\"flexContent\">\r\n          {/* {this.props.flexChildren} */}\r\n          {React.createElement(this.state.toggleMenu ? MenuUnfoldOutlined : MenuFoldOutlined, {\r\n            className: 'trigger',\r\n            onClick: this.toggle,\r\n          })}\r\n          <div className=\"divider\"></div>\r\n          <label className=\"equ-tags\">\r\n            <span className={`iot-status ${this.state.status === 1 ? 'iot-status-normal' : (this.state.status === 2 ? 'iot-status-danger' : 'iot-status-disable')}`}></span>\r\n            <span className=\"equ-name\">{this.state.currentEqu}</span>\r\n            {<Dropdown overlay={this.menu} trigger={['click']} placement=\"bottomCenter\" arrow>\r\n              <div className=\"equ-option\"></div>\r\n            </Dropdown>}\r\n          </label>\r\n        </div>\r\n        {<div className=\"userComp\">\r\n          <span className=\"userName\">{this.state.userName}</span>\r\n          <span className=\"divider\"></span>\r\n          <div className=\"logout\" onClick={this.logout}></div>\r\n        </div>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(PageHeader)","import Header from 'components/content/Header'\r\n\r\nimport Logo from \"assets/img/common/logo.png\"\r\n\r\nexport default function PageHeader(){\r\n  \r\n  return (\r\n    <Header logo={Logo} name=\"盛原成IOT平台\"/>\r\n  )\r\n}","export default \"data:image/png;base64,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\"","// 深拷贝\r\nexport function deepClone(target) {\r\n  // 定义一个变量\r\n  let result;\r\n  // 如果当前需要深拷贝的是一个对象的话\r\n  if (typeof target === 'object') {\r\n    // 如果是一个数组的话\r\n    if (Array.isArray(target)) {\r\n      result = []; // 将result赋值为一个数组，并且执行遍历\r\n      for (let i in target) {\r\n        // 递归克隆数组中的每一项\r\n        result.push(deepClone(target[i]))\r\n      }\r\n      // 判断如果当前的值是null的话；直接赋值为null\r\n    } else if (target === null) {\r\n      result = null;\r\n      // 判断如果当前的值是一个RegExp对象的话，直接赋值    \r\n    } else if (target.constructor === RegExp) {\r\n      result = target;\r\n    } else {\r\n      // 否则是普通对象，直接for in循环，递归赋值对象的所有值\r\n      result = {};\r\n      for (let i in target) {\r\n        result[i] = deepClone(target[i]);\r\n      }\r\n    }\r\n    // 如果不是对象的话，就是基本数据类型，那么直接赋值\r\n  } else {\r\n    result = target;\r\n  }\r\n  // 返回最终结果\r\n  return result;\r\n}\r\n\r\n//获取当前时间\r\nexport function getNowFormatDate() {\r\n  var date = new Date();\r\n  var seperator1 = \"-\";\r\n  var year = date.getFullYear();\r\n  var month = date.getMonth() + 1;\r\n  var strDate = date.getDate();\r\n  var hours = date.getHours();\r\n  var seconds = date.getSeconds();\r\n  var minutes = date.getMinutes();\r\n  if (month >= 1 && month <= 9) {\r\n    month = \"0\" + month;\r\n  }\r\n  if (strDate >= 0 && strDate <= 9) {\r\n    strDate = \"0\" + strDate;\r\n  }\r\n  if (hours <= 9) {\r\n    hours = \"0\" + hours\r\n  }\r\n  if (minutes <= 9) {\r\n    minutes = \"0\" + minutes\r\n  }\r\n  if (seconds <= 9) {\r\n    seconds = \"0\" + seconds\r\n  }\r\n\r\n\r\n  var currentdate = year + seperator1 + month + seperator1 + strDate + \" \" + hours + \":\" + minutes + \":\" + seconds;\r\n  return currentdate;\r\n}\r\n\r\nexport function stringToArray(arr) {\r\n  return arr && arr.length > 0 ? arr.split(',') : null\r\n}\r\n\r\nexport function setCookie (key, value, day) {\r\n  let expires = day * 86400 * 1000  // 时间转化成 ms\r\n  let date = new Date( + new Date() + expires) // 当前时间加上要存储的时间\r\n  document.cookie = `${key}=${value};expires=${date.toUTCString()}`\r\n}\r\n\r\nexport function getCookie(cname){\r\n  var name = cname + \"=\";\r\n  var ca = document.cookie.split(';');\r\n  for(var i=0; i<ca.length; i++) \r\n  {\r\n    var c = ca[i].trim();\r\n    if (c.indexOf(name)===0) return c.substring(name.length,c.length);\r\n  }\r\n  return \"\";\r\n}\r\n\r\n//下载文件\r\nexport function downFile(res, fileName) {\r\n  const blob = new Blob( [res], {type: \"application/x-xls;charset=utf-8\"} )\r\n  // 兼容不同浏览器的URL对象\r\n  const url = window.URL || window.webkitURL || window.moxURL\r\n  // 创建下载链接\r\n  const downloadHref = url.createObjectURL(blob)\r\n  // 创建a标签并为其添加属性\r\n  let downloadLink = document.createElement(\"a\")\r\n  downloadLink.href = downloadHref\r\n  downloadLink.download = fileName\r\n  // 触发点击事件执行下载\r\n  downloadLink.click()\r\n  window.URL.revokeObjectURL(url);\r\n}\r\n\r\n/**\r\n * 判断是否为有效编辑\r\n * gist: 依据\r\n * key：判断对象的key\r\n * dataIndex: 判断字段\r\n * val: 判断的字段值\r\n * return bool\r\n */\r\nexport function isEffectiveEditor(gist, key, dataIndex, val) {\r\n  // if (gist.length === 0) {\r\n  //   return false\r\n  // }\r\n \r\n  // return gist.some(item => {\r\n  //   if (item.key === key) {\r\n  //     return item[dataIndex] === val\r\n  //   }\r\n  //   return false\r\n  // })\r\n}\r\n/**\r\n * 判断数组中对应的对象跟被判断的对象是否一致\r\n * @param gist 依据（数组）\r\n * @param newObj 判断对象\r\n */\r\nexport function isFit(gist, newObj) {\r\n  for (let i = 0; i < gist.length;i++){\r\n    if (gist[i].key === newObj.key) {\r\n      for (let key in gist[i]) {\r\n        if (newObj[key] !== gist[i][key]) {\r\n          return false\r\n        }\r\n      }\r\n      return true\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 判断值是否唯一\r\n * @param {*} dataArr : 依据\r\n * @param {*} id ：跳过当前项\r\n * @param {*} key ：判断的key\r\n * @param {*} val ：判断的字段值\r\n * true: 唯一 \r\n */\r\nexport function isRepeat(dataArr, id, key, val) {\r\n  if (dataArr.length > 0) {\r\n    dataArr.some(item => item.id !== id && item[key] === val)\r\n  }\r\n}\r\n\r\nexport function hasKey(dataList, key, val) {\r\n  dataList.some()\r\n}\r\n\r\n/**\r\n * 数组中取出指定key的对象\r\n * @param {*} dataList \r\n * @param {*} key \r\n * @param {*} val \r\n */\r\nexport function callObj(dataList, key, val) {\r\n  let i = dataList.filter(item => item[key] + \"\" === val)\r\n  return i[0]\r\n}\r\n\r\n\r\n//防抖\r\nexport function debounce(fn, wait, immediate = false){\r\n  let timer, startTimeStamp = 0;\r\n  let context, args;\r\n  console.log(context, args)\r\n\r\n  console.log(\"-----\")\r\n \r\n  let run = (timerInterval) => {\r\n    timer = setTimeout(() => {\r\n      let now = (new Date()).getTime();\r\n      let interval = now - startTimeStamp\r\n      if (interval < timerInterval) {\r\n        startTimeStamp = now;\r\n        run(wait - interval);\r\n      } else {\r\n        if (!immediate) {\r\n          console.log(\"执行函数\")\r\n          fn();\r\n        }\r\n        console.log(\"清除定时器\")\r\n        clearTimeout(timer);\r\n        timer = null;\r\n      }\r\n\t\t\t\r\n    }, timerInterval);\r\n  }\r\n \r\n  return function () {\r\n    context = this;\r\n    args = arguments;\r\n    let now = (new Date()).getTime();\r\n    startTimeStamp = now;\r\n \r\n    if (!timer) {\r\n      if (immediate) {\r\n        fn();\r\n      }\r\n      run(wait);\r\n    }\r\n  }\r\n}\r\n\r\nexport function throttle(func, delay) {\r\n  var prev = Date.now();\r\n  console.log(\"上一次时间：\",prev)\r\n  return (()=>{\r\n    var context = this;\r\n    var args = arguments;\r\n    var now = Date.now();\r\n    console.log(\"时间差：\",now - prev)\r\n    if (now - prev >= delay) {\r\n      console.log(\"执行函数\")\r\n      func.apply(context, args);\r\n      prev = Date.now();\r\n    }            \r\n  })()\r\n}\r\n\r\nexport function converTime (str, index, char){\r\n   const strAry = str.split('');\r\n   strAry[index] = char;\r\n   return strAry.join('');\r\n   }","import { message } from 'antd'\r\nimport axios from 'axios'\r\nimport {getCookie, setCookie} from 'utils'\r\n// import { Route, Redirect } from 'react-router-dom'\r\n\r\nconst service = axios.create({\r\n  baseURL: \"/api\",\r\n  // baseURL: \"http://localhost:3000/api1/api\",\r\n  timeout: 50000,\r\n  async: true,\r\n  //允许跨域\r\n  crossDomain: true, \r\n})\r\n\r\nservice.interceptors.request.use(\r\n  config => {\r\n    let token = getCookie(\"accessToken\")\r\n    let url = config.url\r\n    if (url.substring(1, 6) === \"Login\") {\r\n      return config;\r\n    } else {\r\n      if (token) {\r\n        config.headers['Authorization'] = token;\r\n      } else if(token === \"\"){\r\n        setCookie(\"login\", -1)\r\n      }\r\n      return config;\r\n    }\r\n  },\r\n  error => {\r\n    console.log(error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nservice.interceptors.response.use(\r\n  response => {\r\n    const res = response.data\r\n    if (res.Code === 4002) {\r\n      setCookie('login', '', -1)\r\n      // message.error(\"登录失效，请重新登录\")\r\n      return []\r\n    } else {\r\n      return res\r\n    }\r\n  },\r\n  error => {\r\n    if (error.response) {\r\n      switch (error.response.status) {\r\n        case 401:\r\n          setCookie('login', '', -1)\r\n          // message.error(\"登录失效，请重新登录\")\r\n          break;\r\n        case 504:\r\n          message.error(\"服务器未响应\")\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      return Promise.reject(error.response.data)\r\n    }\r\n    \r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n"],"sourceRoot":""}